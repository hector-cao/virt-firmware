.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.49.2.
.TH VIRT-FW-VARS "1" "December 2022" "virt-fw-vars 1.6" "User Commands"
.SH NAME
virt-fw-vars \- manual page for virt-fw-vars 1.6
.SH SYNOPSIS
.B virt-fw-vars
[\fI\,options\/\fR]
.SH DESCRIPTION

The virt-fw-vars utility can print and modify UEFI variable stores.
Supported formats are standard edk2 (as used by ovmf and armvirt) and
aws.
.SH OPTIONS
.TP
\fB\-h\fR, \fB\-\-help\fR
show this help message and exit
.TP
\fB\-l\fR LEVEL, \fB\-\-loglevel\fR=\fI\,LEVEL\/\fR
set loglevel to LEVEL
.TP
\fB\-i\fR FILE, \fB\-\-input\fR=\fI\,FILE\/\fR
read edk2 or aws vars from FILE
.TP
\fB\-\-extract\-certs\fR
extract all certificates
.IP
Variable options:
.TP
\fB\-d\fR VAR, \fB\-\-delete\fR=\fI\,VAR\/\fR
delete variable VAR, can be specified multiple times
.TP
\fB\-\-set\-true\fR=\fI\,VAR\/\fR
set variable VAR to true, can be specified multiple
times
.TP
\fB\-\-set\-false\fR=\fI\,VAR\/\fR
set variable VAR to false, can be specified multiple
times
.TP
\fB\-\-set\-json\fR=\fI\,FILE\/\fR
set variables from json dump FILE
.IP
Boot configuration:
.TP
\fB\-\-set\-boot\-uri\fR=\fI\,LINK\/\fR
set network boot uri to LINK (once, using BootNext)
.TP
\fB\-\-append\-boot\-filepath\fR=\fI\,FILE\/\fR
append boot entry for FILE (permanent, using
BootOrder)
.IP
Secure boot setup options:
.TP
\fB\-\-set\-pk=\fR('GUID', 'FILE')
set PK to x509 cert, loaded in pem format from FILE
and with owner GUID
.TP
\fB\-\-add\-kek=\fR('GUID', 'FILE')
add x509 cert to KEK, loaded in pem format from FILE
and with owner GUID, can be specified multiple times
.TP
\fB\-\-add\-db=\fR('GUID', 'FILE')
add x509 cert to db, loaded in pem format from FILE
and with owner GUID, can be specified multiple times
.TP
\fB\-\-set\-dbx\fR=\fI\,FILE\/\fR
initialize dbx with update from FILE
.TP
\fB\-\-add\-mok=\fR('GUID', 'FILE')
add x509 cert to MokList, loaded in pem format from
FILE and with owner GUID, can be specified multiple
times
.TP
\fB\-\-add\-db\-hash=\fR('GUID', 'HASH')
add sha256 HASH to db, with owner GUID, can be
specified multiple times
.TP
\fB\-\-add\-mok\-hash=\fR('GUID', 'HASH')
add sha256 HASH to MokList, with owner GUID, can be
specified multiple times
.IP
Secure boot convinience shortcuts:
.TP
\fB\-\-enroll\-redhat\fR
enroll default certificates for redhat platform
.TP
\fB\-\-no\-microsoft\fR
do not add microsoft keys
.TP
\fB\-\-distro\-keys\fR=\fI\,DISTRO\/\fR
add ca keys for DISTRO
.TP
\fB\-\-sb\fR, \fB\-\-secure\-boot\fR
enable secure boot mode
.IP
Print options:
.TP
\fB\-p\fR, \fB\-\-print\fR
print varstore
.TP
\fB\-v\fR, \fB\-\-verbose\fR
print varstore verbosely
.TP
\fB\-x\fR, \fB\-\-hexdump\fR
print variable hexdumps
.IP
Output options:
.TP
\fB\-o\fR FILE, \fB\-\-output\fR=\fI\,FILE\/\fR
write edk2 or aws vars to FILE, using the same format
the \fB\-\-input\fR FILE has.
.TP
\fB\-\-output\-aws\fR=\fI\,FILE\/\fR
write aws vars to FILE
.TP
\fB\-\-output\-json\fR=\fI\,FILE\/\fR
write json dump to FILE
.SH EXAMPLES

.TP
Print variable store.
virt-fw-vars --input ${guest}_VARS.fd \\
             --print --vwerbose

.TP
Enroll default (microsoft) secure boot certificates
virt-fw-vars --input OVMF_VARS.fd \\
             --output OVMF_VARS.secboot.fd \\
             --enroll-redhat \\
             --secure-boot
.SH AUTHOR

Gerd Hoffmann <kraxel@redhat.com>
